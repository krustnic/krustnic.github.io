<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<!-- <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script> -->
	<style type="text/css">

		html {
			background-color: #252525;
		}
		
		.container {
			max-width: 900px;
		}

		.footer-link {
			color: rgb(202, 202, 202);
		}

		.footer-link:hover {
			color: #FFFFFF;
		}

		a:hover {
			text-decoration: none;
		}		
	</style>	
</head>
<body>
	<div style="background-color: white;">
		<div class="container">
			<div style="line-height: 65px;font-size: 19px;">
				<!-- <span style="padding-right: 40px;"><a href="">Последнее</a></span>
				<span><a href="">Архив</a></span> -->
				<span style="font-size: 30px;"><a href="#footer"><span style="font-family: Times;"><b>IT</b></span>sin ↓</i></a></span>
				<a target="_blank" href="https://twitter.com/krustnic"><img align="right" style="width:55px;" src="/img/twitter.png"></a>
				
			</div>
		</div>
		<div class="container" style="margin-top: 20px;margin-bottom:60px;text-align: justify;">      
			<h2>HTTP: методы GET и POST</h2>
<p><img src="http://www.ridus.ru/_ah/img/33pnwCGnfg35orsfKJbc5A" alt=""/>
</p>
<p>Что такое сайт? По сути, это набор URL, за каждым из которых на стороне сервера стоит некоторый "исполнитель", который в ответ на запрос совершает на сервере определенные действия и возвращает вам какой-то ответ (html-страницу, изображение и т. д.).
</p>
<p>Взаимодействие пользователя с сайтом, как вы знаете, осуществляется по протоколу HTTP. Задачей этого протокола является обеспечение возможности обмена данными между клиентом и сервером. Осуществить этот обмен можно различными методами, основными из которых являются методы GET и POST. Эти методы по сути используются для одной и той же цели, однако, делают это совершенно разными способами. В чем же разница между ними?
</p>

<h4>Метод GET</h4>
<p>Когда вы вводите какой-нибудь адрес в адресной строке и нажимаете Enter - вы тем самым инициируете GET запрос к серверу, на котором находится затребованный вами сайт. Сервер, получив этот запрос, направляет его соответствующей функции обработки и возвращает вам результат (обычно html страницу). Параметром GET-запроса является URL ресурса, к которому вы хотите обратиться. Например:
</p>
<pre><code>http://www.itsin.ru
</code></pre><p>Такой запрос по сути обезличен, в смысле что вы просто просите сервер отдать вам конкретную страницу сайта. Любой другой человек, сделав этот запрос, получит тот же самый результат в ответ. В случае же если вы или владелец сайта хотите чтобы в ответ вы получили  персонифицированную страницу (например, чтобы появилась не главная страница сайта, а ваш личный кабинет), то вам необходимо передать вместе с запросом дополнительную, уточняющую информацию. Для передачи дополнительной информации существует два способа - общий для протокола HTTP и специфичный для конкретного метода (GET или POST).
</p>
<p>В случае с общим способом - это использование Cookie. Cookie представляет собой специальное поле в заголовках запроса, внутри которого можно поместить произвольную информацию в виде строки. Максимальный размер допустимых данных составляет 4КБ.
</p>
<p>Специфичной для метода GET является возможность передачи информации прямо в URL. Для этого после URL ресурса добавляется специальный символ "?", после которого идут пары ключ=значение, разделенные символом "&amp;". Например:
</p>
<pre><code>http://www.itsin.ru?type=post&amp;amp;id=123
</code></pre><p>Сервер по-прежнему получает запрос на ту же страницу (http://www.itsin.ru) однако теперь помимо затребованного ресурса он получил еще и дополнительную информацию - параметр type со значением "post" и параметр id со значением "123".
</p>
<p>Таким образом, с помощью запроса GET можно передавать информацию прямо в URL ресурса. Однако существует ограничение на максимальную длину URL и соответственно на максимально допустимый объем передаваемой информации. Ограничение это проявляется с двух сторон: со стороны принимающего сервера и со стороны браузеров.
</p>
<p>Веб-сервера по умолчанию обычно ограничивают длину GET запроса равной 8 КБ. Однако этот параметр может быть изменен администратором этого сервера. Касательно браузеров  примерные ограничения следующие:
</p>
<ul>
 <li>
     MSIE - 2 KB
 </li>

 <li>
     Safari - 2 KB
 </li>

 <li>
     Firefox - отображает до 64 KB, поддерживает свыше 100 KB
 </li>

 <li>
     Opera - 4 KB
 </li>

 <li>
     Chrome - 2KB
 </li>
</ul>
<p>(источники: http://stackoverflow.com/questions/2659952/maximum-length-of-http-get-request,  http://wiert.me/2010/04/20/maximum-url-lengths/ )
</p>
<p>Таким образом для сервиса, предназначенного для массового рынка, следует исходить из того что максимальный размер GET запроса не должен превышать 2048 B (упираемся в возможности Internet Explorer).
</p>

<h4>Идемпотентность GET запроса</h4>
<p>Согласно спецификации HTTP, метод GET является идемпотентным, что означает, что при одинаковых запросах будет получен одинаковый результат. Это обстоятельство довольно сильно может испортить жизнь разработчику при отладке в IE, так как IE в этом смысле действует весьма добросовестно по отношению к спецификации и исходя из идемпотентности кеширует GET запросы, которые совершаются в фоне (AJAX). Как можно догадаться, такое поведение является не совсем ожидаемым. Стандартным решением в данной ситуации является добавление в GET запрос дополнительного параметра, значением которого является текущее время в миллисекундах:
</p>
<pre><code>http://www.itsin.ru?type=post&amp;amp;id=123&amp;amp;ignoreme=666774
</code></pre><p>Благодаря этому каждый запрос будет отличаться от предыдущего, что и решает проблему с кешированием. Текущее время можно получить при помощи следующего javascript кода:
</p>
<pre><code>var currentTime = new Date().getTime();
</code></pre><p>У остальных браузеров подобной проблемы не наблюдается.
</p>

<h4>Метод POST</h4>
<p>Метод POST также обладает специфичным способом передачи данных от клиента к серверу. С данным методом вы сталкиваетесь каждый раз, когда загружаете файлы или изображения на какой-нибудь сайт. Связано это с тем, что метод POST не имеет столь жестких ограничений (как метод GET) на размер передаваемых данных, так как данные передаются не вместе с URL, а уже в теле запроса. Благодаря этому методом POST можно передавать файлы весьма внушительного размера. Фактически объем передаваемых через метод POST данных ограничен лишь настройками принимающего сервера. Обычно по умолчанию данное ограничение составляет 10 МБ.
</p>
<p>Из-за того что данные передаются внутри тела запроса, пользователь явно не увидит какие именно данные передаются, как в случае с методом GET, когда передаваемые данные отображаются в адресной строке.
</p>

<h4>Заключение</h4>
<p>Подытожим, выделив отличия методов GET и POST:
</p>
<h5>Метод GET:</h5><p>Передают данные URL, в следствии чего явно виден пользователю в адресной строке.
   Идемпотентен. Может кешироваться браузером (IE).
   Имеет жесткое ограничение на размер передаваемых данных (рекомендуется рассматривать как 2 КБ)
</p>
<h5>Метод POST:</h5><p>Передает данные в теле запроса. В следствии чего не виден пользователю.
   Не имеет жесткого ограничения на размер передаваемых данных.
   Не кешируется.
   Вопрос "какой метод использовать?" или "почему не использовать всегда метод POST раз он лишен недостатков GET?" - спорный. Все зависит от конкретной ситуации.
</p>
<p>Например, в рассмотренном в прошлой статье "Политика безопасности браузеров" примере работы Google Analitics описывалось, как с помощью GET запроса однопиксельного изображения GA передает данные на сервера Google. В данной ситуации метод POST использовать просто не получится, так как тег &lt;img&gt; запрашивает изображение методом GET.
</p>
	    </div>
	    <div style="padding-top:30px; padding-bottom:60px; text-align: center;">
	    	<img src="/img/end.gif">
	    </div>
	    <footer id="footer" class="footer" style="background-color: #252525;color: rgb(202, 202, 202);padding-bottom:30px;padding-top:30px;">
	        <div class="container" style="">        	
	        	<div style="padding-left:30px;padding-right:30px;">
	        		<div style="font-size: 20px;padding-bottom:20px;">
	        			<span>Другие посты</span>
	        		</div>
	        			<div><a class="footer-link" href="/./posts/http-get-post-methods.html">http-get-post-methods</a></div>	
	        			<div><a class="footer-link" href="/./posts/something-about-ajax.html">something-about-ajax</a></div>	
	        			<div><a class="footer-link" href="/./posts/mac-os-home-end-keyboard-buttons.html">mac-os-home-end-keyboard-buttons</a></div>	
	        			<div><a class="footer-link" href="/./posts/why-we-need-dart.html">why-we-need-dart</a></div>	
	        			<div><a class="footer-link" href="/./posts/same-origin-policy.html">same-origin-policy</a></div>	
	        			<div><a class="footer-link" href="/./posts/create-objects-in-javascript.html">create-objects-in-javascript</a></div>	
	        			<div><a class="footer-link" href="/./posts/version-control-systems-introduction.html">version-control-systems-introduction</a></div>	
	        	</div>        	
	            <div style="text-align: center;padding-top: 40px;">@krustnic 2013</div>
	        </div>
	    </footer>
    </div>

    <script type="text/javascript">
		$("img").parent("p").css("text-align", "center");
	</script>

</body>
</html>